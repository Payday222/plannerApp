<!DOCTYPE html>
<head> 
    <title>Your D&D Campaign</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            padding: 0;
            display: flex;
            justify-content: flex-start; /* Ensure the left panel sticks to the left */
            align-items: flex-start; /* Align the content to the top */
            margin: 0;
            overflow: auto;
            height: 100vh;
        }
    
        #leftPanel {
            background-color: #2e3b4e;
            color: white;
            padding: 20px;
            width: 200px;
            height: 100vh;
            display: flex;
            flex-direction: column;
            gap: 10px;
            position: fixed; /* This will keep the panel on the left side, even when scrolling */
            left: 0;
        }
    
        #leftPanel button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px;
            cursor: pointer;
            text-align: left;
            border-radius: 5px;
            font-size: 14px;
        }
    
        #leftPanel button:hover {
            background-color: #45a049;
        }
    
        #FormContainer {
            margin-left: 220px; /* Adds space so the content doesn't overlap with the left panel */
            padding: 20px;
            width: 70%;
            max-width: 800px;
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }
    
        form {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
    
        label {
            font-weight: bold;
            font-size: 16px;
        }
    
        input[type="text"],
        input[type="number"],
        input[type="checkbox"],
        input[type="file"] {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            width: 100%;
            margin-top: 5px;
        }
    
        input[type="checkbox"] {
            width: auto;
        }
    
        button[type="button"] {
            background-color: #007BFF;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            width: 150px;
            margin-top: 20px;
            align-self: center;
        }
    
        button[type="button"]:hover {
            background-color: #0056b3;
        }
    
        h1 {
            font-size: 24px;
            text-align: center;
            color: #333;
        }        
        #gridContainer {
            display: grid;
            grid-template-columns: repeat(auto-fill, 50px); /* Auto-fill with 50px wide cells */
            grid-auto-rows: 50px; /* Set row height to 50px */
            gap: 0; /* No gap between cells */
            overflow: auto; /* Enable scrolling when content overflows */
            width: 100%; /* Adjust to fill the container */
            height: 100vh; /* Adjust height as needed */
            position: relative;
            border: 1px solid #000; /* Add a border to see the grid container */
            min-width: 100%; /* Make sure the container can expand horizontally */
        }
        
        .cell {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px; /* Cell width */
            height: 50px; /* Cell height */
            border: 1px solid #ccc;
            box-sizing: border-box; /* Include padding and border in width/height */
            background-color: #f9f9f9;
        }        
        .cell:hover {
            background-color: #f0f0f0; /* Hover effect */
        }
    </style>
    
</head>

<body>
    <div id="leftPanel">
        <button id="createNPC">Create NPC</button>
        <button id="createMonster">Create Monster</button>
        <button id="createStructure">Create Structure</button>
        <button id="createDungeon">Create Dungeon</button>
        <button id="createBuilding">Create Building</button>
        <button id="createProp">Create Prop</button>
        <button id="createLoot">Create Loot Item</button>
        <button id="createChest">Create Loot Chest</button>
    </div>

    <div id="FormContainer"></div> 

    <div id="gridContainer"></div>
    <script src="grid.js"></script>
    <script>
        
        document.getElementById('createNPC').addEventListener('click', () => {
            // Clear existing form if already open
            const container = document.getElementById("FormContainer");
            container.innerHTML = "";

            // Create form
            const form = document.createElement("form");
            form.id = "npcForm";

            // NPC class
            class NPC {
                constructor(name, gender, age, race, profession, description, alignment) {
                    this.name = name;
                    this.gender = gender;
                    this.age = age;
                    this.race = race;
                    this.profession = profession;
                    this.description = description;
                    this.alignment = alignment;
                }
            }
            // Fields for NPC
            const NPCfields = ["Name", "Gender", "Age", "Race", "Profession", "Description", "Alignment"];
            NPCfields.forEach(field => {
                const label = document.createElement("label");
                label.textContent = field + ":";
                const input = document.createElement("input");
                input.type = field === "Age" ? "number" : "text"; // Age field as number
                input.id = field.toLowerCase();
                
                form.appendChild(label);
                form.appendChild(input);
                form.appendChild(document.createElement("br"));
            });

            // Submit button
            const submitButton = document.createElement("button");
            submitButton.textContent = "Save NPC";
            submitButton.type = "button";
            submitButton.addEventListener("click", () => {
                // Get input values
                const npc = new NPC(
                    document.getElementById("name").value,
                    document.getElementById("gender").value,
                    document.getElementById("age").value,
                    document.getElementById("race").value,
                    document.getElementById("profession").value,
                    document.getElementById("description").value,
                    document.getElementById("alignment").value
                );

                console.log("New NPC Created:", npc); // Log for now (store it somewhere)
            });

            form.appendChild(submitButton);
            container.appendChild(form);
        });

        document.getElementById('createMonster').addEventListener('click', () => {
            class Monster {
                constructor(name, isHostile, age, alignment, damage, isVisible, level, XP_reward, description) {
                    this.name = name;
                    this.isHostile = isHostile;
                    this.age = age;
                    this.alignment = alignment;
                    this.damage = damage;
                    this.isVisible = isVisible;
                    this.level = level;
                    this.XP_reward = XP_reward;
                    this.description = description;
                }
            }
    
    const container = document.getElementById("FormContainer");
    container.innerHTML = "";

    //clear form
    const form = document.createElement("form");
    form.id = "monsterForm";

    
    const Monsterfields = ["Name", "is Hostile", "Age", "Alignment", "Damage", "is Visible", "Level", "XP reward", "Description"];
    Monsterfields.forEach(field => {
        const label = document.createElement("label");
        label.textContent = field + ":";
        const input = document.createElement("input");

        
        if (field === "Age" || field === "Damage" || field === "Level" || field === "XP reward") {
            input.type = "number";
        } else if (field === "is Hostile" || field === "is Visible") {
            input.type = "checkbox";
        } else {
            input.type = "text";
        }
        input.id = field.toLowerCase().replace(/\s+/g, '_'); // Convert field names to valid IDs

        form.appendChild(label);
        form.appendChild(input);
        form.appendChild(document.createElement("br"));
    });

    // Submit button
    const submitButton = document.createElement("button");
    submitButton.textContent = "Save Monster";
    submitButton.type = "button";
    submitButton.addEventListener("click", () => {
        
        const monster = new Monster(
            document.getElementById("name").value,
            document.getElementById("is_hostile").checked,
            document.getElementById("age").value,
            document.getElementById("alignment").value,
            document.getElementById("damage").value,
            document.getElementById("is_visible").checked,
            document.getElementById("level").value,
            document.getElementById("xp_reward").value,
            document.getElementById("description").value
        );

        console.log("New Monster Created:", monster);
    });

    form.appendChild(submitButton);
    container.appendChild(form);
});
document.getElementById('createStructure').addEventListener('click', () => {

        class Structure {
                constructor(name, description, size, population, government, location, isFriendly, climate, loot, quests, secrets) {
                    this.name = name;
                    this.description = description;
                    this.size = size;
                    this.population = population;
                    this.government = government;
                    this.location = location;
                    this.isFriendly = isFriendly;
                    this.climate = climate;
                    this.loot = loot;
                    this.quests = quests;
                    this.secrets = secrets;

                }
            }

    const container = document.getElementById("FormContainer");
    container.innerHTML = "";

    const form = document.createElement("form");
    form.id = "structureForm";

    const structureFields = ["name", "description", "size", "population", "government", "location", "is_friendly", "climate", "loot", "quests", "secrets"]
    structureFields.forEach(field => {
            const label = document.createElement('label');
            label.textContent = field + ":";
            const input = document.createElement('input');

            if(field === "population") {
                input.type = "number";
            } else if(field === "is Friendly") {
                input.type = "checkbox";
            } else {
                input.type = "text";
            }

            input.id = field.toLowerCase();

            form.appendChild(label);
            form.appendChild(input);
            form.appendChild(document.createElement("br"));
        });
    const submitButton = document.createElement("button");
    submitButton.textContent = "Save Structure";
    submitButton.type = "button";
    submitButton.addEventListener("click", () => {
        const structure = new Structure(
            document.getElementById('name').value,
            document.getElementById('description').value,
            document.getElementById('size').value,
            document.getElementById('population').value,
            document.getElementById('government').value,
            document.getElementById('location').value,
            document.getElementById('is_friendly').value,
            document.getElementById('climate').value,
            document.getElementById('loot').value,
            document.getElementById('quests').value,
            document.getElementById('secrets').value
        );
        console.log("New structure created", structure);
    });
    form.appendChild(submitButton);
    container.appendChild(form);
    });

    document.getElementById('createDungeon').addEventListener('click', () => {
        const container = document.getElementById("FormContainer");
        class Dungeon {
        constructor(name, description, loot, monsters, boss, map, roomCount, difficulty, NPCs, riddles, puzzles, secrets) {
        this.name = name;
        this.description = description;
        this.loot = loot;
        this.monsters = monsters;
        this.boss = boss;
        this.map = map;
        this.roomCount = roomCount;
        this.difficulty = difficulty;
        this.NPCs = NPCs;
        this.riddles = riddles;
        this.puzzles = puzzles;
        this.secrets = secrets;
            }
        }

        const form = document.createElement("form");
        form.id = "dungeonForm";
        dungeonFields = ["name", "description", "loot", "monsters", "boss", "map", "roomCount", "difficulty", "NPCs", "riddles", "puzzles", "secrets"];
        dungeonFields.forEach(field => {
            const label = document.createElement('label');
            label.textContent = field + ":";
            const input = document.createElement('input');

            if(field === "roomCount") {
                input.type = "number";
            } else if(field === "map") {
                input.type = "file";
            }else {
                input.type = "text";
            }
            input.id = field.toLowerCase();

            form.appendChild(label);
            form.appendChild(input);
            form.appendChild(document.createElement("br"));
        });
        const submitButton = document.createElement("button");
    submitButton.textContent = "Save Dungeon";
    submitButton.type = "button";
    submitButton.addEventListener('click', () => {
        dungeon = new Dungeon(
            document.getElementById('name'),
            document.getElementById('description'),
            document.getElementById('loot'),
            document.getElementById('monsters'),
            document.getElementById('boss'),
            document.getElementById('map'),
            document.getElementById('roomCount'),
            document.getElementById('difficulty'),
            document.getElementById('NPCs'),
            document.getElementById('riddles'),
            document.getElementById('puzzles'),
            document.getElementById('secrets'),
            document.getElementById('riddles')
        );
        console.log("new dungeon created", dungeon);
    });
    form.appendChild(submitButton);
    container.appendChild(form);
    });
    </script>
</body>
